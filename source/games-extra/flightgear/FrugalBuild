# Compiling Time: 2.05 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>
# Contributor: Miklos Vajna <vmiklos@frugalware.org>

pkgname=flightgear
pkgver=2.6.0
pkgrel=1
pkgdesc="An open-source, multi-platform flight simulator."
url="http://www.flightgear.org/"
rodepends=('flightgear-data')
depends=('libgl' 'zlib' 'freealut>=1.1.0-3' 'freeglut' 'plib' 'libboost>=1.46.1' \
	'openscenegraph>=3.0.1' 'subversion' 'libxmu' 'libxi' 'libglu')
makedepends=('simgear>=2.6.0' 'boost>=1.46.1')
groups=('games-extra')
archs=('i686' 'x86_64')
Finclude cmake
up2date="Flasttar http://ftp.icm.edu.pl/packages/flightgear/Source/"
source=(http://ftp.icm.edu.pl/packages/flightgear/Source/$pkgname-$pkgver.tar.bz2)
sha1sums=('07f802c2fb38ef869a8909f48a581e2011c5f2fc')

_F_desktop_name="FlightGear"
_F_desktop_icon="FlightGear"
_F_desktop_exec="fgfs"
_F_desktop_categories="Game;Simulation;"

build()
{
	unset MAKEFLAGS
	CMake_build -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_INSTALL_LIBDIR=lib

	Fmkdir usr/share/{applications,icons}
	Finstall 0644 $pkgname-$pkgver/package/flightgear.desktop usr/share/applications/flightgear.desktop
	Finstall 0644 $pkgname-$pkgver/package/RedHat/flightgear.48.png usr/share/icons/flightgear.png
}

# optimization ok
